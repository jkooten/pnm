Needs some more work. Initial decoder.
